<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/material.min.css" />
    <link rel="stylesheet" href="/styles/styles.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <title>Blog</title>
  </head>

  <body class="gradient-bg">
    <div class="page-content">
      <div style="width: 100%; padding: 1rem">
        
        <a
          href="/"
          class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored button-new"
        >
          <i class="material-icons">arrow_back</i>
        </a>
      </div>

    
      <div class="demo-card-wide mdl-card mdl-shadow--2dp">
        <div class="mdl-card__content">
          <div class="mdl-card__title">
            <h2 class="mdl-card__title-text"><%= article.title %></h2>
          </div>
          <div class="mdl-card__supporting-text">
            <%= article.description %>
          </div>
          <div style="padding:1rem">
            <%- article.sanitizedHtml %>
          </div>
        </div>
        <div class="mdl-card__actions mdl-card--border">
          <!-- <a
            href="/articles/<%= article.slug %>"
            class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect pull-left"
          >
            Lesen ...
          </a> -->
          <span style="float:right; margin-top:1rem" class="pull-right date"
            ><%= article.createdAt.toLocaleDateString()%></span
          >
        </div>
        <div class="mdl-card__menu">
          <a
            href="/articles/edit/<%= article.id %>"
            class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect"
          >
            <i class="material-icons">edit</i>
          </a>

          <a
            href="#"
            onclick="openDialog('dialog_<%=article.id%>')"
            class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect"
          >
            <i class="material-icons">delete</i>
          </a>

          <%- include("_modal", {article: article}) %>
        </div>
      </div>

    </div>
  </body>
  <script src="/static/material.min.js"></script>
  <script>
    function openDialog(id) {
      console.log(id);
      const dialog = document.querySelector("#" + id);
      if (!dialog.showModal) {
        dialogPolyfill.registerDialog(dialog);
      }

      dialog.showModal();

      dialog.querySelector(".close").addEventListener("click", function () {
        dialog.close();
      });
    }
  </script>
</html>
